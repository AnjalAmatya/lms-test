<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Speech API Tester</title>
    <style>
        body { font-family: sans-serif; display: flex; justify-content: center; padding: 50px; background: #f4f4f9; }
        .card { background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); width: 100%; max-width: 400px; }
        h2 { margin-top: 0; color: #333; }
        textarea { width: 100%; height: 100px; padding: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; resize: none; }
        .controls { margin: 20px 0; }
        .control-group { margin-bottom: 15px; }
        label { display: block; font-size: 0.8rem; color: #666; margin-bottom: 5px; }
        input[type="range"] { width: 100%; }
        button { width: 100%; padding: 12px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 1rem; }
        button:hover { background: #0056b3; }
    </style>
</head>
<body>

<div class="card">
    <h2>Speech Tester</h2>
    <textarea id="text-to-speak">Hello, world! This is the browser speaking.</textarea>
    
    <div class="controls">
        <div class="control-group">
            <label>Rate (Speed)</label>
            <input type="range" id="rate" min="0.5" max="2" value="1" step="0.1">
        </div>
        <div class="control-group">
            <label>Pitch</label>
            <input type="range" id="pitch" min="0" max="2" value="1" step="0.1">
        </div>
    </div>

    <button id="speak-btn">Speak Now</button>
</div>

<script>
    const speakBtn = document.getElementById('speak-btn');
    const textInput = document.getElementById('text-to-speak');
    const rateInput = document.getElementById('rate');
    const pitchInput = document.getElementById('pitch');

    speakBtn.addEventListener('click', () => {
        if ('speechSynthesis' in window) {
            // Cancel any ongoing speech before starting new one
            window.speechSynthesis.cancel();

            const utterance = new SpeechSynthesisUtterance(textInput.value);
            
            utterance.lang = 'en-US';
            utterance.rate = rateInput.value;
            utterance.pitch = pitchInput.value;
            utterance.volume = 1;

            window.speechSynthesis.speak(utterance);
        } else {
            alert('Sorry, your browser does not support text-to-speech.');
        }
    });
</script>

</body>
</html>